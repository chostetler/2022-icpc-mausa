import copy, math
from operator import is_
def num_word_partitions(string_array):
    n = len(string_array)
    num_word_partitions_dp = [copy.deepcopy([None for j in range(n+1)]) for i in range(n+1)]
    for i in range(0, n):
        num_word_partitions_dp[i][n] = is_word(string_array[i:n])
    for j in range(n-1, -1, -1):
        for i in range(j, -1, -1):
            i_to_j_is_word = is_word(string_array[i:j])
            i_to_j_is_word_addon = 0
            if i_to_j_is_word:
                i_to_j_is_word_addon = num_word_partitions_dp[j][j]
            
            num_word_partitions_dp[i][j] = num_word_partitions_dp[i][j+1] + i_to_j_is_word_addon
    return num_word_partitions_dp[0][0]

with open("english_words.txt") as word_file:
    english_words = set(word.strip().lower() for word in word_file)

calls = 0

def is_word(word):
    global calls
    calls += 1
    isvalid = word.lower() in english_words
    # print(word, isvalid)
    return isvalid

print(num_word_partitions('EARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTHEARTH'))
print(calls, 'calls')